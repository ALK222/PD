<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Traductor</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Pr&#225;cticas Haskell</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>License</th><td>GPL-3.0</td></tr><tr><th>Maintainer</th><td>Alejandro Barrachina Argudo</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>unknown</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Traductor</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Types</a></li><li><a href="#g:2">Functions</a><ul><li><a href="#g:3">Generators</a></li><li><a href="#g:4">Tree and List manipulators</a></li><li><a href="#g:5">Utilities</a></li><li><a href="#g:6">IO</a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Pr&#225;ctica final de Programaci&#243;n Declarativa (PD) de Ingenier&#237;a Infrom&#225;tica de la UCM</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:NodeElement">NodeElement</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Traduction">Traduction</a> = (String, String)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Bucket">Bucket</a> = [<a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Hash">Hash</a> a</li><li class="src short"><a href="#v:leaf">leaf</a> :: a -&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> a</li><li class="src short"><a href="#v:genEmptyTree">genEmptyTree</a> :: [Int] -&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a></li><li class="src short"><a href="#v:insert">insert</a> :: <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a> -&gt; Int -&gt; <a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a> -&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a></li><li class="src short"><a href="#v:insertList">insertList</a> :: [<a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a>] -&gt; <a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a> -&gt; [<a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a>]</li><li class="src short"><a href="#v:inorder">inorder</a> :: Show a =&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> a -&gt; String</li><li class="src short"><a href="#v:busqueda">busqueda</a> :: <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a> -&gt; Int -&gt; String -&gt; String</li><li class="src short"><a href="#v:busquedaLista">busquedaLista</a> :: [<a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a>] -&gt; String -&gt; String</li><li class="src short"><a href="#v:evens">evens</a> :: [a] -&gt; [a]</li><li class="src short"><a href="#v:odds">odds</a> :: [a] -&gt; [a]</li><li class="src short"><a href="#v:hash">hash</a> :: String -&gt; Int</li><li class="src short"><a href="#v:calcMeanWordCount">calcMeanWordCount</a> :: String -&gt; Float</li><li class="src short"><a href="#v:calcMeanWordCountExample">calcMeanWordCountExample</a> :: String -&gt; IO ()</li><li class="src short"><a href="#v:rellenadoPorFichero">rellenadoPorFichero</a> :: IO (<a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a>)</li><li class="src short"><a href="#v:rellenadoPorFicheroFijo">rellenadoPorFicheroFijo</a> :: IO (<a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a>)</li><li class="src short"><a href="#v:lecturaPalabras">lecturaPalabras</a> :: String -&gt; IO String</li><li class="src short"><a href="#v:mostrarTraducciones">mostrarTraducciones</a> :: IO ()</li><li class="src short"><a href="#v:demoMode">demoMode</a> :: IO ()</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Types</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NodeElement" class="def">NodeElement</a> <a href="#t:NodeElement" class="selflink">#</a></p><div class="doc"><p>Nodo de la tabla de traduccion usando un hash con colisiones con valores [0 .. 9] para guardar valores</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NodeElement">Instances</h4><details id="i:NodeElement" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NodeElement:Show:1"></span> Show <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a></span> <a href="#t:NodeElement" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NodeElement:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Traductor.html">Traductor</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Traduction" class="def">Traduction</a> = (String, String) <a href="#t:Traduction" class="selflink">#</a></p><div class="doc"><p>Alias para las tuplas usadas para representar traducciones</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Bucket" class="def">Bucket</a> = [<a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a>] <a href="#t:Bucket" class="selflink">#</a></p><div class="doc"><p>Elementos de la tabla de traducci&#243;n asignados a un valor concreto, se guardar&#225;n varias traducciones distintas</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Hash" class="def">Hash</a> a <a href="#t:Hash" class="selflink">#</a></p><div class="doc"><p>&#193;rbol para almacenar todos los nodos, puede ser vac&#237;o o un nodo con ramas a ambos lados. Estas ramas tambi&#233;n pueden ser vacias</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Hash">Instances</h4><details id="i:Hash" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Hash:Show:1"></span> Show a =&gt; Show (<a href="Traductor.html#t:Hash" title="Traductor">Hash</a> a)</span> <a href="#t:Hash" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Hash:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Traductor.html">Traductor</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> a -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> a -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Traductor.html#t:Hash" title="Traductor">Hash</a> a] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Functions</h1></a><a href="#g:3" id="g:3"><h2>Generators</h2></a><div class="top"><p class="src"><a id="v:leaf" class="def">leaf</a> :: a -&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> a <a href="#v:leaf" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Genera un &#225;rbol que solo tiene raiz, una hoja</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:leaf0">Examples</h3><details id="ch:leaf0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>leaf (NE 1 [])
</code></strong>[1] -&gt; []
</pre></details></div></div><div class="top"><p class="src"><a id="v:genEmptyTree" class="def">genEmptyTree</a> :: [Int] -&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a> <a href="#v:genEmptyTree" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Genera un &#225;rbol binario de n elementos en una lista para meter las palabras dadas</p></div></div><a href="#g:4" id="g:4"><h2>Tree and List manipulators</h2></a><div class="top"><p class="src"><a id="v:insert" class="def">insert</a> :: <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a> -&gt; Int -&gt; <a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a> -&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a> <a href="#v:insert" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Inserta un elemento en el indice dado</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:insert0">Examples</h3><details id="ch:insert0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>insert (Node (leaf (NE 0 [])) (NE 1 []) Nil) 1 (&quot;a&quot;,&quot;b&quot;)
</code></strong>[0] -&gt; []
[1] -&gt; [(&quot;a&quot;,&quot;b&quot;)]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>insert Nil 1 (&quot;a&quot;,&quot;b&quot;)
</code></strong>[1] -&gt; [(&quot;a&quot;,&quot;b&quot;)]
</pre></details></div></div><div class="top"><p class="src"><a id="v:insertList" class="def">insertList</a> :: [<a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a>] -&gt; <a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a> -&gt; [<a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a>] <a href="#v:insertList" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Inserci&#243;n ordenada de traducciones en una lista.</p></div></div><div class="top"><p class="src"><a id="v:inorder" class="def">inorder</a> :: Show a =&gt; <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> a -&gt; String <a href="#v:inorder" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Muestra el inorden del &#225;rbol dado</p></div></div><div class="top"><p class="src"><a id="v:busqueda" class="def">busqueda</a> :: <a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a> -&gt; Int -&gt; String -&gt; String <a href="#v:busqueda" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Busca una palabra en el listado dentro del &#225;rbol dado.</p><p>Usa el &#237;ndice para encontrar el nodo del listado</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:busqueda0">Examples</h3><details id="ch:busqueda0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>busqueda (insert genEmptyTree (hash &quot;hola&quot;) (&quot;hola&quot;, &quot;hello&quot;)) (hash &quot;hola&quot;) &quot;hola&quot;
</code></strong>&quot;hello&quot;
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>busqueda (genEmptyTree) (hash &quot;hola&quot;) &quot;hola&quot;
</code></strong>&quot;*** Exception: Palabra no encontrada
CallStack (from HasCallStack):
  error, called at hash.hs:190:28 in main:Traductor
</pre></details></div></div><div class="top"><p class="src"><a id="v:busquedaLista" class="def">busquedaLista</a> :: [<a href="Traductor.html#t:Traduction" title="Traductor">Traduction</a>] -&gt; String -&gt; String <a href="#v:busquedaLista" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Busqueda de una palabra en un listado de traducciones para conseguir la traducci&#243;n.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:busquedaLista0">Examples</h3><details id="ch:busquedaLista0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>busquedaLista [] &quot;hola&quot;
</code></strong>&quot;Palabra no encontrada&quot;
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>busquedaLista [(&quot;Hola&quot;, &quot;Hello&quot;), (&quot;A&quot;, &quot;B&quot;)] &quot;Hola&quot;
</code></strong>&quot;Hello&quot;
</pre></details></div></div><div class="top"><p class="src"><a id="v:evens" class="def">evens</a> :: [a] -&gt; [a] <a href="#v:evens" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Funci&#243;n auxiliar de <code><a href="Traductor.html#v:odds" title="Traductor">odds</a></code> para eliminar los indices pares de una lista</p></div></div><div class="top"><p class="src"><a id="v:odds" class="def">odds</a> :: [a] -&gt; [a] <a href="#v:odds" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Elimina los indices pares de una lista</p></div></div><a href="#g:5" id="g:5"><h2>Utilities</h2></a><div class="top"><p class="src"><a id="v:hash" class="def">hash</a> :: String -&gt; Int <a href="#v:hash" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Hace un hash de una palabra y se queda con el &#250;ltimo digito para usarlo de &#237;ndice</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:hash0">Examples</h3><details id="ch:hash0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>hash &quot;Hola&quot;
</code></strong>8
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>hash &quot;Adios&quot;
</code></strong>0
</pre></details></div></div><div class="top"><p class="src"><a id="v:calcMeanWordCount" class="def">calcMeanWordCount</a> :: String -&gt; Float <a href="#v:calcMeanWordCount" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Caclula la media de letras por palabra en una frase.</p><p>Usa foldl para recorrer cada una de las palabras y a&#241;adir sus letras al numero total</p><p>Mas tarde se divide entre el numero de palabras para sacar la media de letras sin contar los espacios en blanco</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:calcMeanWordCount0">Examples</h3><details id="ch:calcMeanWordCount0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>calcMeanWordCount &quot;a b c d&quot;
</code></strong>1
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>calcMeanWordCount &quot;ABCD&quot;
</code></strong>4
</pre></details></div></div><div class="top"><p class="src"><a id="v:calcMeanWordCountExample" class="def">calcMeanWordCountExample</a> :: String -&gt; IO () <a href="#v:calcMeanWordCountExample" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Coje el texto del fichero dado a la funci&#243;n y calcula la media de letras por palabra.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:calcMeanWordCountExample0">Examples</h3><details id="ch:calcMeanWordCountExample0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>calcMeanWordCountExample &quot;./pruebas/quijote.txt&quot;
</code></strong>4.5021253
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>calcMeanWordCountExample &quot;./pruebas/call_of_cthulhu.txt&quot;
</code></strong>4.8737144
</pre></details></div></div><div class="top"><p class="src"><a id="v:rellenadoPorFichero" class="def">rellenadoPorFichero</a> :: IO (<a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a>) <a href="#v:rellenadoPorFichero" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Pide un fichero para generar el &#225;rbol de traducciones</p></div></div><div class="top"><p class="src"><a id="v:rellenadoPorFicheroFijo" class="def">rellenadoPorFicheroFijo</a> :: IO (<a href="Traductor.html#t:Hash" title="Traductor">Hash</a> <a href="Traductor.html#t:NodeElement" title="Traductor">NodeElement</a>) <a href="#v:rellenadoPorFicheroFijo" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Lectura del fichero &quot;datos.txt&quot; para cargar un arbol de traducciones</p></div></div><a href="#g:6" id="g:6"><h2>IO</h2></a><div class="top"><p class="src"><a id="v:lecturaPalabras" class="def">lecturaPalabras</a> :: String -&gt; IO String <a href="#v:lecturaPalabras" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Lee palabras por el teclado y devuelve un String con todas las palabras introducidas</p></div></div><div class="top"><p class="src"><a id="v:mostrarTraducciones" class="def">mostrarTraducciones</a> :: IO () <a href="#v:mostrarTraducciones" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Traduce las palabras dadas por el usuario por teclado.</p><p>Genera un &#225;rbol vac&#237;o, lo llena con un archivo de traducciones y lo usa para traducir una serie de palabras dadas</p></div></div><div class="top"><p class="src"><a id="v:demoMode" class="def">demoMode</a> :: IO () <a href="#v:demoMode" class="selflink">#</a></p><div class="doc"><p><strong>Description</strong></p><p>Modo para probar todas las funciones implementadas en el m&#243;dulo</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.27.0</p></div></body></html>